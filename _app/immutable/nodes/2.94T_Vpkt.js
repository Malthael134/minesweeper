import{s as L,n as z,c as A,x as X,k as ae,r as re,y as ie}from"../chunks/scheduler.KJ6oFhzz.js";import{S as M,i as N,e as b,c as $,a as S,d as m,k as v,p as k,g as E,y as F,n as Y,t as J,b as K,h as g,z as V,j as ce,s as T,A as ue,f as D,B as Z,C as fe,D as he,u as y,v as O,w as q,l as G,m as H,x as U}from"../chunks/index.kG0FOHBE.js";import{w as Q}from"../chunks/index.8vDw2YUw.js";function w(o){return(o==null?void 0:o.length)!==void 0?o:Array.from(o)}const I=Q(9),de=Q(5),x=Q(!1);function ee(o,t,s){const e=o.slice();return e[10]=t[s],e}function te(o,t,s){const e=o.slice();return e[13]=t[s],e[14]=t,e[15]=s,e}function le(o){let t,s=o[13].text+"",e,n,a,l,i;function p(){return o[4](o[13],o[14],o[15])}return{c(){t=b("div"),e=J(s),this.h()},l(h){t=$(h,"DIV",{class:!0,id:!0});var _=S(t);e=K(_,s),_.forEach(m),this.h()},h(){v(t,"class",n=X(o[13].class)+" svelte-wivz70"),v(t,"id",a=o[13].id)},m(h,_){E(h,t,_),g(t,e),l||(i=V(t,"click",p),l=!0)},p(h,_){o=h,_&4&&s!==(s=o[13].text+"")&&ce(e,s),_&4&&n!==(n=X(o[13].class)+" svelte-wivz70")&&v(t,"class",n),_&4&&a!==(a=o[13].id)&&v(t,"id",a)},d(h){h&&m(t),l=!1,i()}}}function ne(o){let t,s=w(o[10]),e=[];for(let n=0;n<s.length;n+=1)e[n]=le(te(o,s,n));return{c(){for(let n=0;n<e.length;n+=1)e[n].c();t=Y()},l(n){for(let a=0;a<e.length;a+=1)e[a].l(n);t=Y()},m(n,a){for(let l=0;l<e.length;l+=1)e[l]&&e[l].m(n,a);E(n,t,a)},p(n,a){if(a&7){s=w(n[10]);let l;for(l=0;l<s.length;l+=1){const i=te(n,s,l);e[l]?e[l].p(i,a):(e[l]=le(i),e[l].c(),e[l].m(t.parentNode,t))}for(;l<e.length;l+=1)e[l].d(1);e.length=s.length}},d(n){n&&m(t),F(e,n)}}}function me(o){let t,s=w(o[2]),e=[];for(let n=0;n<s.length;n+=1)e[n]=ne(ee(o,s,n));return{c(){t=b("div");for(let n=0;n<e.length;n+=1)e[n].c();this.h()},l(n){t=$(n,"DIV",{class:!0,style:!0});var a=S(t);for(let l=0;l<e.length;l+=1)e[l].l(a);a.forEach(m),this.h()},h(){v(t,"class","board svelte-wivz70"),k(t,"--board-size",`${500/o[3]}px`+` ${500/o[3]}px`.repeat(o[3]-1)),k(t,"--tile-size",`${500/o[3]}px`)},m(n,a){E(n,t,a);for(let l=0;l<e.length;l+=1)e[l]&&e[l].m(t,null)},p(n,[a]){if(a&7){s=w(n[2]);let l;for(l=0;l<s.length;l+=1){const i=ee(n,s,l);e[l]?e[l].p(i,a):(e[l]=ne(i),e[l].c(),e[l].m(t,null))}for(;l<e.length;l+=1)e[l].d(1);e.length=s.length}a&8&&k(t,"--board-size",`${500/n[3]}px`+` ${500/n[3]}px`.repeat(n[3]-1)),a&8&&k(t,"--tile-size",`${500/n[3]}px`)},i:z,o:z,d(n){n&&m(t),F(e,n)}}}function _e(o,t,s){let e,n;A(o,I,u=>s(3,e=u)),A(o,de,u=>s(5,n=u));let a=[],l=0,i=[];class p{constructor(r,c,d,f){this.id=r,this.class=`tile ${a.includes(this.id)?"bomb":""}`,this.row=c,this.column=d,this.text=f||""}}function h(){C(),_()}function _(){s(2,i=[]);for(let u=0;u<e;++u){i.push([]);for(let r=0;r<e;++r)i[u].push(new p(`${u}-${r}`,u,r,""))}s(2,i)}function C(){console.log("Setting mines:",n);let u=n;for(s(0,a=[]);u>0;){let r=Math.floor(Math.random()*e),c=Math.floor(Math.random()*e);a.includes(`${r}-${c}`)||(a.push(`${r}-${c}`),--u)}}return I.subscribe(u=>{console.log("Board size is currently",u),h()}),[a,l,i,e,(u,r,c)=>{u.id.split("-");const d=document.getElementById(u.id);d!==null&&!d.classList.contains("clicked")&&(s(1,++l),s(2,r[c].class+=" clicked",i)),a.includes(u.id)}]}class pe extends M{constructor(t){super(),N(this,t,_e,me,L,{})}}function se(o,t,s){const e=o.slice();return e[5]=t[s],e}function oe(o){let t,s=o[5].name+"",e,n;return{c(){t=b("option"),e=J(s),n=T(),this.h()},l(a){t=$(a,"OPTION",{});var l=S(t);e=K(l,s),n=D(l),l.forEach(m),this.h()},h(){t.__value=o[5].value,fe(t,t.__value)},m(a,l){E(a,t,l),g(t,e),g(t,n)},p:z,d(a){a&&m(t)}}}function ge(o){let t,s,e,n="Difficulty:Â ",a,l,i,p,h,_,C,j,u=w(o[2]),r=[];for(let c=0;c<u.length;c+=1)r[c]=oe(se(o,u,c));return{c(){t=b("div"),s=b("span"),e=b("label"),e.textContent=n,a=T(),l=b("select");for(let c=0;c<r.length;c+=1)r[c].c();i=T(),p=b("span"),h=b("button"),_=J("Toggle ðŸš©"),this.h()},l(c){t=$(c,"DIV",{class:!0});var d=S(t);s=$(d,"SPAN",{});var f=S(s);e=$(f,"LABEL",{for:!0,"data-svelte-h":!0}),ue(e)!=="svelte-tmmk2y"&&(e.textContent=n),a=D(f),l=$(f,"SELECT",{name:!0,id:!0,class:!0});var B=S(l);for(let P=0;P<r.length;P+=1)r[P].l(B);B.forEach(m),f.forEach(m),i=D(d),p=$(d,"SPAN",{});var R=S(p);h=$(R,"BUTTON",{style:!0,id:!0,class:!0});var W=S(h);_=K(W,"Toggle ðŸš©"),W.forEach(m),R.forEach(m),d.forEach(m),this.h()},h(){v(e,"for","boardSize"),v(l,"name","boardSize"),v(l,"id","boardSize"),v(l,"class","svelte-1omzh3j"),o[0]===void 0&&ae(()=>o[3].call(l)),k(h,"background-color",o[1]?"#6ae090":"#e9e9ed"),v(h,"id","flagButton"),v(h,"class","svelte-1omzh3j"),v(t,"class","settings-bar svelte-1omzh3j")},m(c,d){E(c,t,d),g(t,s),g(s,e),g(s,a),g(s,l);for(let f=0;f<r.length;f+=1)r[f]&&r[f].m(l,null);Z(l,o[0],!0),g(t,i),g(t,p),g(p,h),g(h,_),C||(j=[V(l,"change",o[3]),V(h,"click",o[4])],C=!0)},p(c,[d]){if(d&4){u=w(c[2]);let f;for(f=0;f<u.length;f+=1){const B=se(c,u,f);r[f]?r[f].p(B,d):(r[f]=oe(B),r[f].c(),r[f].m(l,null))}for(;f<r.length;f+=1)r[f].d(1);r.length=u.length}d&5&&Z(l,c[0]),d&2&&k(h,"background-color",c[1]?"#6ae090":"#e9e9ed")},i:z,o:z,d(c){c&&m(t),F(r,c),C=!1,re(j)}}}function ve(o,t,s){let e,n;A(o,I,p=>s(0,e=p)),A(o,x,p=>s(1,n=p));const a=[{name:"Easy",value:9},{name:"Normal",value:13},{name:"Hard",value:17}];function l(){e=he(this),I.set(e),s(2,a)}return[e,n,a,l,()=>ie(x,n=!n,n)]}class be extends M{constructor(t){super(),N(this,t,ve,ge,L,{})}}function $e(o){let t,s,e,n,a;return s=new be({}),n=new pe({}),{c(){t=b("div"),y(s.$$.fragment),e=T(),y(n.$$.fragment)},l(l){t=$(l,"DIV",{});var i=S(t);O(s.$$.fragment,i),e=D(i),O(n.$$.fragment,i),i.forEach(m)},m(l,i){E(l,t,i),q(s,t,null),g(t,e),q(n,t,null),a=!0},p:z,i(l){a||(G(s.$$.fragment,l),G(n.$$.fragment,l),a=!0)},o(l){H(s.$$.fragment,l),H(n.$$.fragment,l),a=!1},d(l){l&&m(t),U(s),U(n)}}}class Se extends M{constructor(t){super(),N(this,t,null,$e,L,{})}}function ze(o){let t,s;return t=new Se({}),{c(){y(t.$$.fragment)},l(e){O(t.$$.fragment,e)},m(e,n){q(t,e,n),s=!0},p:z,i(e){s||(G(t.$$.fragment,e),s=!0)},o(e){H(t.$$.fragment,e),s=!1},d(e){U(t,e)}}}class Ce extends M{constructor(t){super(),N(this,t,null,ze,L,{})}}export{Ce as component};
